import{a as N,b as T,c as O,f as k}from"./chunk-WNHVHM2N.js";import{j,k as D,l as F,n as V,t as w}from"./chunk-OMVECEQU.js";import{$ as g,Ea as C,Ja as _,O as h,Qa as m,Ra as E,Ta as r,U as y,Ua as o,Va as I,Wa as v,Za as x,_ as f,_a as p,cb as s,db as l,gb as P,hb as M,ua as a,za as S}from"./chunk-TUNOQRBW.js";var u=class n{http=y(w);apiUrl="http://localhost:8000/predict";predict(e){return this.http.post(this.apiUrl,e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=h({token:n,factory:n.\u0275fac,providedIn:"root"})};function L(n,e){if(n&1){let t=v();r(0,"div",8)(1,"div",9)(2,"div",10),s(3),P(4,"titlecase"),o(),r(5,"div",11),I(6,"div",12),o(),r(7,"input",13),x("input",function(c){let b=f(t).$implicit,A=p();return g(A.updateValue(c,b))}),o(),r(8,"div",14),s(9),o()()()}if(n&2){let t=e.$implicit,i=p();a(3),l(M(4,8,t.replaceAll("_"," "))),a(3),E("height",i.getPercentage(i.form[t],t),"%"),a(),m("min",i.getMin(t))("max",i.getMax(t))("step",i.getStep(t))("value",i.form[t]),a(2),l(i.form[t])}}function R(n,e){if(n&1&&(r(0,"p",15),s(1,"Classe pr\xE9dite : "),r(2,"strong"),s(3),o()()),n&2){let t=p();a(3),l(t.result)}}var d=class n{constructor(e){this.iaService=e}form={nouveaux_cas:0,nouveaux_deces:0,nouveaux_gueris:0,moyenne_3j_cas:0,moyenne_3j_deces:0,moyenne_3j_gueris:0,croissance_cas:0,ratio_gueris_cas:0};updateValue(e,t){let i=e.target;this.form[t]=+i.value}result=null;objectKeys(e){return Object.keys(e)}getMin(e){return e==="croissance_cas"?-1:0}getMax(e){return e.includes("deces")?100:e==="ratio_gueris_cas"||e==="croissance_cas"?1:1e3}getPercentage(e,t){let i=this.getMin(t),c=this.getMax(t);return(e-i)/(c-i)*100}getStep(e){return["ratio_gueris_cas","croissance_cas"].includes(e)?.01:1}onSubmit(){this.iaService.predict(this.form).subscribe(e=>{this.result=e.classe_predite})}static \u0275fac=function(t){return new(t||n)(S(u))};static \u0275cmp=C({type:n,selectors:[["app-prediction"]],decls:10,vars:2,consts:[["f","ngForm"],[1,"cyber-container"],[1,"cyber-title"],[1,"hex-form",3,"ngSubmit"],[1,"hex-grid"],["class","hex",4,"ngFor","ngForOf"],["type","submit",1,"submit-button"],["class","result",4,"ngIf"],[1,"hex"],[1,"hex-inner"],[1,"hex-label"],[1,"hex-fill-container"],[1,"hex-fill"],["type","range",1,"hex-slider",3,"input","min","max","step","value"],[1,"hex-value"],[1,"result"]],template:function(t,i){if(t&1){let c=v();r(0,"div",1)(1,"h2",2),s(2,"\u{1F9EC} Analyse Pr\xE9dictive"),o(),r(3,"form",3,0),x("ngSubmit",function(){return f(c),g(i.onSubmit())}),r(5,"div",4),_(6,L,10,10,"div",5),o(),r(7,"button",6),s(8,"\u{1F680} Lancer Pr\xE9diction"),o()(),_(9,R,4,1,"p",7),o()}t&2&&(a(6),m("ngForOf",i.objectKeys(i.form)),a(3),m("ngIf",i.result))},dependencies:[V,j,D,F,k,O,N,T],encapsulation:2})};var X=[{path:"",component:d}];export{X as default};
